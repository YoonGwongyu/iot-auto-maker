##TODO: type을 정하는 방법
import os
from sqlalchemy import (
    Column, Float, Integer, String, Table, create_engine, MetaData, DateTime
)

from dotenv import load_dotenv
from databases import Database
from datetime import datetime as dt
from pytz import timezone as tz

load_dotenv()
DATABASE_URL = os.environ.get("DATABASE_URL")

#sqlalchemy
engine = create_engine(DATABASE_URL)
metadata = MetaData()
schema_name = Table(
    "schema_name",
    metadata,
    Column("id", Integer, primary_key=True),
    # table 내용
    table_content
    Column("created_at", DateTime(timezone=True),
           default=dt.now(tz("Asia/Seoul")))
)

mqtt_table = Table(
    "mqtt_table",
    metadata,
    Column("uuid", String),
    Column("client_id", String),
    Column("cmd", String),
    Column("response", String),
    Column("created_at", DateTime(timezone=True),
           default=dt.now(tz("Asia/Seoul"))),
    Column("updated_at", DateTime(timezone=True),
           default=dt.now(tz("Asia/Seoul")))
)

database = Database(DATABASE_URL)